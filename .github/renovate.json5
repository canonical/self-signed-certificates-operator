{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:recommended", ":disableRateLimiting", ":semanticCommits"],
  automerge: true,
  automergeStrategy: "squash",
  automergeType: "pr",
  platformAutomerge: true,
  schedule: ["at any time"],
  lockFileMaintenance: {
    enabled: true,
    schedule: ["at any time"],
  },
  timezone: "Etc/UTC",
  enabledManagers: ["pep621", "github-actions", "terraform"],
  packageRules: [
    // Later rules override earlier rules
    {
      matchManagers: ["pep621"],
      rangeStrategy: "bump",
      groupName: "Python dependencies",
    },
    {
      // Disable updating Python, should be done when updating the Ubuntu base
      matchPackageNames: ["python"],
      enabled: false,
    },
    {
      // Bumping "pytest-asyncio" over 0.23 breaks the integration tests
      matchPackageNames: ["pytest-asyncio"],
      matchUpdateTypes: ["minor"],
      enabled: false,
    },
    {
      matchManagers: ["github-actions"],
      groupName: "GitHub actions",
    },
    {
      matchManagers: ["terraform"],
      groupName: "Terraform",
    },
  ],
  baseBranchPatterns: ["main", "latest"],
  useBaseBranchConfig: "merge",
}
